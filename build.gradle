plugins {
    id 'java'
    id 'com.github.johnrengelman.shadow' version "8.1.1"
}

group = 'cn.chloeprime'
version = '1.0.0'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'com.googlecode.soundlibs:mp3spi:1.9.5.4'
    implementation 'com.googlecode.soundlibs:vorbisspi:1.0.3.3'
}

jar {
    archiveClassifier = 'core'
}

shadowJar {
    archiveClassifier = ''

    dependencies {
        include(dependency('com.googlecode.soundlibs:mp3spi:1.9.5.4'))
        include(dependency('com.googlecode.soundlibs:vorbisspi:1.0.3.3'))
    }

    mergeServiceFiles()
}

tasks.build.dependsOn shadowJar